---
phase: 03-advanced-table-features
plan: 11
type: execute
wave: 5
depends_on: ["03-07", "03-08", "03-09", "03-10"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All Phase 3 features verified working"
    - "Command palette opens and searches correctly"
    - "Keyboard shortcuts function as documented"
    - "Table virtualization renders smoothly"
    - "Empty states display appropriately"
  artifacts: []
  key_links: []
---

<objective>
Verify all Phase 3 advanced table features work correctly through manual testing.

Purpose: Ensure the complete feature set functions as expected before marking the phase complete. This is a human verification checkpoint.
Output: Confirmation that all features work or list of issues found.
</objective>

<execution_context>
@/Users/sambeevors/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sambeevors/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-advanced-table-features/03-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 3 Advanced Table Features:
1. Command Palette (Cmd+K) - Navigation and global search
2. Keyboard Shortcuts - j/k navigation, selection, cheat sheet
3. Table Virtualization - Smooth scrolling for large datasets
4. Empty States - Contextual guidance when no data
5. Global Search - Fuzzy search across users, assets, payees
  </what-built>

  <how-to-verify>
**Prerequisites:**
1. Start dev server: `npm run dev`
2. Open browser to http://localhost:3000
3. Log in if required

**Test 1: Command Palette (Cmd+K)**
1. Press Cmd+K (or Ctrl+K on Windows/Linux)
   - [ ] Dialog opens with search input focused
2. Type "john" in the search field
   - [ ] Search results appear (users matching "john")
   - [ ] Results show entity type icon and label
3. Use arrow keys to navigate results
   - [ ] Selection moves with arrow keys
4. Press Enter on a result
   - [ ] Navigates to entity detail page
   - [ ] Dialog closes
5. Press Cmd+K again, then Escape
   - [ ] Dialog closes
6. Click "Search..." button in header
   - [ ] Command palette opens

**Test 2: Keyboard Shortcuts Cheat Sheet**
1. Press ? (Shift+/)
   - [ ] Cheat sheet modal opens
2. Verify shortcuts displayed:
   - [ ] Navigation section (G U, G A, G P)
   - [ ] Actions section (Cmd+K, Cmd+N, Cmd+E)
   - [ ] Table section (j, k, Space, Shift+j/k, Cmd+A)
   - [ ] General section (/, ?, Esc)
3. Modifier key shows correctly for your OS
   - [ ] Mac: Cmd symbol, Windows/Linux: Ctrl
4. Press Escape
   - [ ] Cheat sheet closes
5. Click outside cheat sheet
   - [ ] Cheat sheet closes

**Test 3: Table Keyboard Navigation**
1. Navigate to /users
2. Click on the table to focus it
   - [ ] Focus ring appears around table
3. Press j repeatedly
   - [ ] Focus indicator moves down through rows
4. Press k repeatedly
   - [ ] Focus indicator moves up through rows
5. Press Space on a row
   - [ ] Row becomes selected (background color change)
6. Press Shift+j/k
   - [ ] Selection extends to include multiple rows
7. Press Cmd+A
   - [ ] All visible rows become selected
8. Press Escape
   - [ ] Selection clears
9. Press Enter on a focused row
   - [ ] Navigates to user detail page

**Test 4: Table Virtualization**
1. Navigate to /users
2. Scroll quickly through the table
   - [ ] Scrolling is smooth (no jank or stutter)
   - [ ] No blank spaces appear while scrolling
3. Apply a filter that changes results
   - [ ] Table scrolls to top
4. Refresh the page while scrolled
   - [ ] Scroll position is preserved (or reset reasonably)

**Test 5: Empty States**
1. Navigate to /users
2. Enter a search query with no matches (e.g., "xyznonexistent123")
3. Click Search
   - [ ] Empty state shows "No results found"
   - [ ] Search query displayed in message
   - [ ] "Clear filters" button visible
   - [ ] Table headers NOT visible (full replacement)
4. Click "Clear filters"
   - [ ] Filters clear, results return

**Test 6: Global Search Behavior**
1. Press Cmd+K
2. Type a query that matches multiple entity types (e.g., "john")
   - [ ] Results show mixed types (users and/or payees)
   - [ ] Better-matching types show more results
3. Type a user-specific query (e.g., an email fragment)
   - [ ] User results dominate
4. Navigate to a search result
   - [ ] Correct detail page loads
  </how-to-verify>

  <resume-signal>
If all tests pass: Type "approved"
If issues found: Describe each issue with steps to reproduce
  </resume-signal>
</task>

</tasks>

<verification>
Human verification of all Phase 3 features.
</verification>

<success_criteria>
All 6 test scenarios pass:
- Command palette opens, searches, navigates
- Keyboard cheat sheet displays correctly
- Table keyboard navigation works
- Virtualization scrolls smoothly
- Empty states replace full table
- Global search returns relevant results
</success_criteria>

<output>
After completion, create `.planning/phases/03-advanced-table-features/03-11-SUMMARY.md`
</output>
