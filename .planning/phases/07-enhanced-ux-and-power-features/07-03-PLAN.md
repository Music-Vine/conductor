---
phase: 07-enhanced-ux-and-power-features
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/HelpTooltip.tsx
  - src/app/(platform)/layout-client.tsx
  - src/app/(platform)/assets/[id]/components/WorkflowTimeline.tsx
  - src/app/(platform)/contributors/[id]/components/PayeesTab.tsx
autonomous: true

must_haves:
  truths:
    - "? icon appears next to workflow approval stage labels"
    - "? icon appears next to payee percentage allocation section"
    - "Hovering the ? icon shows a 1-2 sentence tooltip"
    - "Moving mouse away hides the tooltip"
    - "Tooltips do not require clicking to show or dismiss"
  artifacts:
    - path: "src/components/HelpTooltip.tsx"
      provides: "Reusable ? icon tooltip component"
      exports: ["HelpTooltip"]
    - path: "src/app/(platform)/layout-client.tsx"
      provides: "TooltipProvider wrapping all platform pages"
      contains: "TooltipProvider"
  key_links:
    - from: "src/components/HelpTooltip.tsx"
      to: "@radix-ui/react-tooltip"
      via: "Tooltip primitives"
      pattern: "Tooltip\\.Root"
    - from: "src/app/(platform)/layout-client.tsx"
      to: "@radix-ui/react-tooltip"
      via: "TooltipProvider"
      pattern: "TooltipProvider"
---

<objective>
Add contextual help tooltips with a reusable HelpTooltip component, TooltipProvider setup, and placement on workflow stages and payee allocation.

Purpose: Staff need guidance on complex fields like workflow approval stages (what each stage means) and payee percentage allocation (the 100% constraint). Short hover tooltips reduce confusion without blocking workflows.

Output: A HelpTooltip component using @radix-ui/react-tooltip, placed on the two complex areas specified in the CONTEXT decisions.
</objective>

<execution_context>
@/Users/sambeevors/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sambeevors/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-enhanced-ux-and-power-features/07-CONTEXT.md
@.planning/phases/07-enhanced-ux-and-power-features/07-RESEARCH.md

@src/app/(platform)/layout-client.tsx
@src/components/workflow/WorkflowTimeline.tsx
@src/app/(platform)/contributors/[id]/components/PayeesTab.tsx
@src/providers/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HelpTooltip component and add TooltipProvider</name>
  <files>src/components/HelpTooltip.tsx, src/app/(platform)/layout-client.tsx</files>
  <action>
  Create `src/components/HelpTooltip.tsx`:
  - Use `@radix-ui/react-tooltip` directly (NOT Cadence Popover — Cadence has no Tooltip component)
  - Props: `text: string` (tooltip content), optional `className: string`
  - Render a small `?` button (inline-flex, h-4 w-4, rounded-full, border border-gray-400, text-[10px] text-gray-500)
  - Hover states: border-gray-600, text-gray-700
  - Focus ring for accessibility: focus:outline-none focus:ring-2 focus:ring-gray-400
  - aria-label="Learn more"
  - Tooltip content: z-50 max-w-xs rounded-md bg-gray-900 px-3 py-2 text-xs leading-relaxed text-white shadow-lg
  - Include Tooltip.Arrow with fill-gray-900
  - sideOffset={5} for comfortable spacing

  Add `Tooltip.Provider` with `delayDuration={300}` to the platform layout client component (`layout-client.tsx`).
  - Wrap the existing children in `<Tooltip.Provider delayDuration={300}>{children}</Tooltip.Provider>`
  - Import `* as Tooltip from '@radix-ui/react-tooltip'`
  - This provides tooltip context to all platform pages

  Note: The `@radix-ui/react-tooltip` package is already installed as a transitive dependency at v1.2.8. No npm install needed.
  </action>
  <verify>
  TypeScript compiles without errors.
  Import `HelpTooltip` in any client component — verify it renders a small ? button.
  Verify TooltipProvider is in the component tree (check layout-client.tsx).
  </verify>
  <done>HelpTooltip component renders a ? icon that shows hover tooltip. TooltipProvider wraps all platform pages.</done>
</task>

<task type="auto">
  <name>Task 2: Place tooltips on workflow stages and payee allocation</name>
  <files>src/app/(platform)/assets/[id]/components/WorkflowTimeline.tsx (or wherever workflow stages are rendered), src/app/(platform)/contributors/[id]/components/PayeesTab.tsx</files>
  <action>
  Place HelpTooltip in two specific locations per CONTEXT decisions:

  **1. Workflow approval stages** (in the workflow timeline or approval form component):
  Add a HelpTooltip next to each workflow stage label with explanations:
  - "Initial Review" -> "First pass review checking audio quality, metadata completeness, and content policy compliance."
  - "Quality Check" -> "Technical quality verification including audio levels, format compliance, and encoding standards."
  - "Platform Assignment" -> "Determines which platforms (Music Vine, Uppbeat, or both) will carry this asset."
  - "Final Approval" -> "Last review before publication. Approved assets become available to end users."
  - Place the ? icon inline next to the stage name text, not replacing it.

  **2. Payee percentage allocation** (in the PayeesTab for contributor detail):
  Add a HelpTooltip next to the "Payees" section heading or the rate summary:
  - Near the rate allocation area: "Total rates across all payees must equal exactly 100%. Each payee's rate represents their share of the contributor's earnings."
  - If there's an "Add Payee" form with percentage input: "The percentage rate this payee receives from the contributor's total earnings. All payee rates must sum to 100%."

  Keep tooltip text to 1-2 sentences per CONTEXT: "short — 1-2 sentence explanations only, no examples or lengthy guidance."
  </action>
  <verify>
  Navigate to an asset detail page workflow section — verify ? icons appear next to stage names and show tooltips on hover.
  Navigate to a contributor detail page Payees tab — verify ? icon appears near rate allocation and shows tooltip on hover.
  </verify>
  <done>Tooltips appear on workflow stages and payee allocation sections. Hover shows 1-2 sentence explanations. Mouse-out hides tooltip. No click required.</done>
</task>

</tasks>

<verification>
1. HelpTooltip component renders without runtime errors
2. Hovering ? icon shows tooltip text within 300ms
3. Moving mouse away hides tooltip
4. Workflow stages have tooltips explaining each stage
5. Payee allocation has tooltip explaining the 100% constraint
6. No "TooltipProvider missing" runtime error (provider is in layout)
</verification>

<success_criteria>
- ? icon tooltips appear on workflow approval stages and payee percentage allocation
- Tooltips show on hover, hide on mouse-out
- Content is 1-2 sentences, not lengthy
- No new dependencies installed (uses existing @radix-ui/react-tooltip)
</success_criteria>

<output>
After completion, create `.planning/phases/07-enhanced-ux-and-power-features/07-03-SUMMARY.md`
</output>
