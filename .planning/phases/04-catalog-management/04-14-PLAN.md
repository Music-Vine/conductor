---
phase: 04-catalog-management
plan: 14
type: execute
wave: 7
depends_on: ["04-07", "04-08", "04-09", "04-10", "04-11", "04-12", "04-13"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All 6 Phase 4 success criteria pass manual verification"
    - "Upload workflow creates assets correctly"
    - "Approval workflows transition states correctly"
    - "Collections organize assets correctly"
  artifacts: []
  key_links: []
---

<objective>
Human verification checkpoint for Phase 4 Catalog Management.

Purpose: Validate that all catalog management features work correctly before marking phase complete.
Output: Verified phase completion or documented issues requiring fixes.
</objective>

<execution_context>
@/Users/sambeevors/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sambeevors/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-catalog-management/CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Catalog Management system including:
- Asset types and workflow state machine
- Upload infrastructure with Uppy, presigned URLs, multipart support
- Client-side file validation (type, size, hash, metadata extraction)
- Upload page with dropzone, progress tracking, metadata form
- Asset list page with virtualized table, filters, pagination
- Asset detail page with tabs (Overview, Workflow, Collections, Activity)
- Audio waveform player (WaveSurfer.js)
- Video player (HTML5)
- Workflow timeline and approval form
- Collections management (CRUD, asset membership)
- Global search integration
  </what-built>
  <how-to-verify>
**Prerequisites:**
1. Run `npm run dev` to start the development server
2. Open http://localhost:3000
3. Login with test credentials

**Test Scenarios (verify all 6 success criteria):**

**SC1: Contributors can upload assets via UI which flow to S3 and trigger ingestion pipeline**
1. Navigate to Assets -> Upload Assets
2. Select "Music" as asset type
3. Drag-drop or click to select an MP3 file
4. Verify:
   - File appears in list with size displayed
   - No validation errors for valid file
   - Selecting invalid type (e.g., .txt) shows error
5. Fill in metadata (select contributor, genre, add tags)
6. Click Upload button
7. Verify:
   - Progress bar animates
   - Upload completes (mock - actual S3 not connected)
   - Redirects to asset list
   - New asset appears in list

**SC2: Staff can view all submitted assets with server-side pagination and filtering**
1. Navigate to /assets
2. Verify asset table displays with data
3. Test type filter: select "Music" - verify only music shown
4. Test status filter: select "Published" - verify filtering works
5. Test platform filter: select "Uppbeat" - verify filtering works
6. Test search: enter an asset title - verify results filter
7. Test pagination: navigate to page 2, change page size
8. Test keyboard navigation: press j/k to move between rows
9. Test CSV export: click Export, verify file downloads

**SC3: Staff can approve music assets through multi-stage workflow**
1. From asset list, click on a Music asset in "Initial Review" status
2. Navigate to Workflow tab
3. Verify:
   - Timeline shows all stages (Submitted, Initial Review, Quality Check, Platform Assignment, Final Approval, Published)
   - Current stage highlighted in blue
   - Completed stages have green checkmarks
4. Review the checklist items
5. Add a comment
6. Click Approve
7. Verify:
   - Asset advances to next stage (Quality Check)
   - Timeline updates
8. Repeat approval through stages
9. At Platform Assignment, verify platform selection appears
10. At Final Approval, approve to Published
11. Verify Published state in timeline

**SC4: Staff can approve SFX/Motion Graphics/LUTs/Stock Footage through single-stage workflow**
1. Navigate to /assets and filter to SFX type
2. Click an SFX asset in "Review" status
3. Navigate to Workflow tab
4. Verify:
   - Simplified timeline (Submitted, Review, Published)
   - No Platform Assignment stage
   - Platform locked to "Uppbeat"
5. Approve the asset
6. Verify it moves directly to Published

**SC5: Staff can edit asset metadata and set platform exclusivity**
1. Open a Music asset detail page
2. Overview tab - verify all metadata displayed:
   - Title, description, contributor
   - Genre, tags
   - BPM, key, duration (for music)
3. Click "Edit Metadata" (if implemented) or verify fields are displayed
4. For Music asset, verify Platform badge shows correctly
5. For non-music asset, verify Platform shows "Uppbeat" only

**SC6: Staff can organize assets into collections, handle takedowns, and export**
1. Navigate to /collections
2. Verify collection cards display
3. Click a collection to view detail
4. Verify assets in collection displayed
5. Navigate to an asset detail page
6. Go to Collections tab
7. Verify:
   - Shows which collections contain this asset
   - "Add to Collection" opens modal
   - Can add asset to a collection
   - Can remove asset from a collection
8. For a published asset, click "Unpublish Asset" action
9. Verify asset status changes to draft

**Additional Checks:**
- Preview tab shows audio waveform for music/sfx (WaveSurfer)
- Preview tab shows video player for motion graphics/stock footage
- Activity tab shows audit log entries
- Global search (Cmd+K) finds assets by title
- Keyboard shortcuts work in asset table

**Record Results:**
For each test scenario, note:
- PASS/FAIL
- Any issues observed
- Screenshots if relevant
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.
If issues found, describe each issue with:
- Scenario number
- Expected behavior
- Actual behavior
- Steps to reproduce
  </resume-signal>
</task>

</tasks>

<verification>
All 6 success criteria validated through manual testing.
</verification>

<success_criteria>
All test scenarios pass. Phase 4 complete.

If issues found:
- Document in verification output
- Claude will create gap closure plans
- Re-verify after fixes
</success_criteria>

<output>
After verification (pass or issues), create `.planning/phases/04-catalog-management/04-VERIFICATION.md` documenting results.
Then create `.planning/phases/04-catalog-management/04-14-SUMMARY.md`
</output>
