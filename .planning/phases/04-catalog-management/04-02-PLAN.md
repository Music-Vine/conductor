---
phase: 04-catalog-management
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
autonomous: true

must_haves:
  truths:
    - "All Phase 4 dependencies are installed"
    - "Dependencies match versions from RESEARCH.md"
    - "No conflicting peer dependency warnings"
  artifacts:
    - path: "package.json"
      provides: "Phase 4 dependencies"
      contains: "@uppy/core"
  key_links: []
---

<objective>
Install Phase 4 dependencies for file uploads, audio processing, and tag input.

Purpose: All upload and preview features require these libraries.
Output: Updated package.json with new dependencies installed.
</objective>

<execution_context>
@/Users/sambeevors/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sambeevors/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-catalog-management/04-RESEARCH.md
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Phase 4 dependencies</name>
  <files>package.json</files>
  <action>
Run npm install to add Phase 4 dependencies from RESEARCH.md:

```bash
npm install @uppy/core @uppy/aws-s3 @uppy/dashboard react-dropzone wavesurfer.js @wavesurfer/react web-audio-beat-detector react-tag-autocomplete
```

The versions should be:
- @uppy/core: 4.x (file upload orchestration)
- @uppy/aws-s3: 4.x (S3 presigned URL uploads with multipart)
- @uppy/dashboard: 4.x (pre-built upload UI, optional but useful)
- react-dropzone: 14.x (drag-drop file zone)
- wavesurfer.js: 7.x (audio waveform visualization)
- @wavesurfer/react: 1.x (React wrapper)
- web-audio-beat-detector: 9.x (BPM detection)
- react-tag-autocomplete: 7.x (tag input with suggestions)

Note: music-metadata is NOT needed for initial implementation - we'll extract duration using HTML5 media elements per RESEARCH pattern. Add later if ID3 tag parsing is needed.

After install, verify no peer dependency warnings related to React 19 compatibility.
  </action>
  <verify>Run `npm ls @uppy/core react-dropzone wavesurfer.js` to verify installation</verify>
  <done>All dependencies installed, no conflicting peer dependencies</done>
</task>

<task type="auto">
  <name>Task 2: Add Uppy type declarations if needed</name>
  <files>src/types/uppy.d.ts (only if needed)</files>
  <action>
Check if Uppy packages include TypeScript types. If not, create a basic declaration file.

Most Uppy 4.x packages include types. Verify by checking if types work:
```typescript
import Uppy from '@uppy/core'
const uppy = new Uppy()
```

If types are included (expected), no declaration file needed. Skip this task.

If types are missing, create src/types/uppy.d.ts with basic module declarations.
  </action>
  <verify>TypeScript can import from @uppy/core without type errors</verify>
  <done>Uppy types are available for use in components</done>
</task>

</tasks>

<verification>
1. `npm ls @uppy/core` shows installed version 4.x
2. `npm ls react-dropzone` shows installed version 14.x
3. `npm ls wavesurfer.js` shows installed version 7.x
4. No npm WARN peer dependency errors for React 19
5. TypeScript can import Uppy without errors
</verification>

<success_criteria>
- All 8 packages installed successfully
- No breaking peer dependency conflicts
- TypeScript imports work without errors
- Package-lock.json updated
</success_criteria>

<output>
After completion, create `.planning/phases/04-catalog-management/04-02-SUMMARY.md`
</output>
