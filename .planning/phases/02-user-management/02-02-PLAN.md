---
phase: 02-user-management
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/app/layout.tsx
autonomous: true

must_haves:
  truths:
    - "TanStack Table is installed and importable"
    - "Radix UI primitives are installed"
    - "Sonner toast library is installed and provider added"
    - "react-papaparse is installed for CSV export"
  artifacts:
    - path: "package.json"
      provides: "New dependencies"
      contains: "@tanstack/react-table"
    - path: "src/app/layout.tsx"
      provides: "Toaster provider"
      contains: "Toaster"
  key_links:
    - from: "src/app/layout.tsx"
      to: "sonner"
      via: "Toaster component"
      pattern: "import.*Toaster.*sonner"
---

<objective>
Install Phase 2 dependencies: TanStack Table, Radix UI primitives, Sonner toasts, and react-papaparse.

Purpose: Add the libraries identified in research as the standard stack for data tables, accessible UI components, notifications, and CSV export.

Output: All new packages installed and Sonner Toaster added to root layout.
</objective>

<execution_context>
@/Users/sambeevors/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sambeevors/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-user-management/02-RESEARCH.md
@src/app/layout.tsx
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Phase 2 dependencies</name>
  <files>package.json</files>
  <action>
Run npm install for all required packages:

```bash
npm install @tanstack/react-table sonner react-papaparse
npm install @radix-ui/react-tabs @radix-ui/react-dropdown-menu @radix-ui/react-alert-dialog
npm install use-debounce
```

Packages:
- @tanstack/react-table: Headless table with manual pagination/sorting/filtering
- sonner: Toast notifications (modern, lightweight)
- react-papaparse: CSV export utilities
- @radix-ui/react-tabs: Accessible tabs for user detail view
- @radix-ui/react-dropdown-menu: Row actions dropdown
- @radix-ui/react-alert-dialog: Confirmation dialogs for destructive actions
- use-debounce: Debounced search input

Do NOT install lucide-react or any icon library - use existing icons from Cadence or simple SVG.
  </action>
  <verify>`npm ls @tanstack/react-table sonner react-papaparse @radix-ui/react-tabs` shows all packages installed</verify>
  <done>All Phase 2 dependencies installed in package.json</done>
</task>

<task type="auto">
  <name>Task 2: Add Sonner Toaster to root layout</name>
  <files>src/app/layout.tsx</files>
  <action>
Add Sonner's Toaster component to the root layout:

1. Import { Toaster } from 'sonner'
2. Add <Toaster /> component inside the body, after children
3. Configure Toaster:
   - position="top-right" (standard for admin apps)
   - richColors (for success/error color coding)
   - closeButton (allow manual dismissal)

Place Toaster at root level (not inside providers) so toasts work across all pages including auth pages.

Example placement:
```tsx
<body>
  <Providers>
    {children}
  </Providers>
  <Toaster position="top-right" richColors closeButton />
</body>
```
  </action>
  <verify>Start dev server, import { toast } from 'sonner' in any component, call toast.success('Test') - toast should appear</verify>
  <done>Toaster provider available app-wide for notifications</done>
</task>

</tasks>

<verification>
1. Run `npm ls @tanstack/react-table` - package listed
2. Run `npm ls @radix-ui/react-tabs` - package listed
3. Run `npm ls sonner` - package listed
4. Run `npm ls react-papaparse` - package listed
5. Run `npm run build` - no import errors
6. Verify Toaster in layout: grep for "Toaster" in src/app/layout.tsx
</verification>

<success_criteria>
- All 7 packages installed without errors
- Sonner Toaster rendered in root layout
- `npm run build` passes
- Can import from @tanstack/react-table in any file
</success_criteria>

<output>
After completion, create `.planning/phases/02-user-management/02-02-SUMMARY.md`
</output>
