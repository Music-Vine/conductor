---
phase: 05-bulk-operations
plan: 08
type: execute
wave: 5
depends_on: ["05-05", "05-06", "05-07"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Staff can select multiple assets with checkbox clicks"
    - "Staff can select range with Shift+Click"
    - "Staff can perform bulk approve/reject/delete on assets"
    - "Staff can select multiple users and bulk suspend/unsuspend/delete"
    - "Progress shows in toast notification with count and percentage"
    - "Destructive actions require type-to-confirm"
    - "Selection clears when filters change"
  artifacts: []
  key_links: []
---

<objective>
Verify all bulk operations functionality works correctly through manual testing.

Purpose: Ensure Phase 5 success criteria are met before marking phase complete.

Output: Verified working bulk operations for assets and users.
</objective>

<execution_context>
@/Users/sambeevors/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sambeevors/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-bulk-operations/05-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete bulk operations system for assets and users including:
- Checkbox selection in tables with Shift+Click range selection
- Header checkbox for select all on current page
- Floating Gmail-style action bar when items selected
- SSE-based progress tracking with toast notifications
- Type-to-confirm dialogs for destructive actions
- Simple confirmation for safe actions
- Bulk audit logging
  </what-built>
  <how-to-verify>
**Prerequisites:**
1. Start dev server: `npm run dev`
2. Navigate to http://localhost:3000/assets

**Test Asset Bulk Selection:**
1. Click checkbox on first asset row
   - Expected: Row highlights, action bar appears at bottom showing "1 item selected"
2. Click checkbox on third asset row
   - Expected: Both rows highlighted, action bar shows "2 items selected"
3. Hold Shift and click checkbox on row 6
   - Expected: Rows 3-6 selected (range), action bar shows "4 items selected"
4. Click header checkbox
   - Expected: All visible rows selected
5. Click "Clear selection" in action bar
   - Expected: All rows deselected, action bar disappears
6. Apply a filter (e.g., Type = Music)
   - Expected: Selection clears automatically

**Test Asset Bulk Actions:**
1. Select 3-5 assets with checkboxes
2. Click "Approve" in action bar
   - Expected: Confirmation dialog shows "Approve X assets?"
3. Click confirm button
   - Expected: Toast shows progress "Processing 1 of X items... (Y%)"
   - Expected: Toast updates as each item processes
   - Expected: Toast shows success "Successfully processed X items"
4. Select 3-5 assets again
5. Click "Delete" in action bar
   - Expected: Type-to-confirm dialog shows "Delete X assets?"
   - Expected: Confirm button is disabled
6. Type "DELETE" in input
   - Expected: Confirm button becomes enabled
7. Click confirm
   - Expected: Progress toast shows, operation completes

**Test User Bulk Operations:**
1. Navigate to http://localhost:3000/users
2. Select 2-3 users with checkboxes
   - Expected: Action bar shows with Suspend, Unsuspend, Delete buttons
3. Click "Suspend"
   - Expected: Simple confirmation dialog
4. Confirm and verify progress toast
5. Select users and click "Delete"
   - Expected: Type-to-confirm dialog requires typing "DELETE"

**Verify Selection Persistence:**
1. Select some items on /assets
2. Navigate to /users
3. Return to /assets
   - Expected: Selection cleared (different entity type)
4. Select some items on /assets
5. Navigate to asset detail page and back
   - Expected: Selection cleared (per CONTEXT: clears on navigation)

**Verify Progress Toast Details:**
During any bulk operation, verify toast shows:
- Item count: "Processing X of Y items..."
- Percentage: "(Z%)"
- Time estimate: "~N minutes remaining" (or seconds)
- Current item name (truncated asset/user ID)
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass, or describe any issues found for remediation.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification checkpoint - all tests must pass.
</verification>

<success_criteria>
All Phase 5 success criteria verified:
1. Staff can select multiple items (select all, shift+click ranges) across filtered datasets
2. Staff can perform bulk actions (approve, reject, delete, tag, edit metadata) on selected items
3. Operations on 100+ items run asynchronously with progress tracking (current count, ETA)
4. Bulk operations handle partial failures gracefully with per-item success/failure tracking
5. Staff can view bulk operation audit logs showing what changed
</success_criteria>

<output>
After completion, create `.planning/phases/05-bulk-operations/05-08-SUMMARY.md`
</output>
